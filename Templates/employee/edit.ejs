<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        <%= locals.title %>
    </title>
    <meta name="description" content="<%= locals.description %>">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">


</head>

<body>

    <%- include('../partials/header.ejs') %>
 <main style="margin-left:220px;width:80%;">

<div class="d-flex justify-content-between flex-wrap flex-md nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
    <h1 class="h2">Editing <%= employees.fullName %>
</div>


<div class="col py-3">
    <div class="row">
        <div class="col">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="/editPage/<%= admin._id %>">Dashboard</a></li>
                    <li class="breadcrumb-item active"><%= employees.fullName %></li>

                </ol>
            </nav>
        </div>

        <div class="col text-end fw-lighter">
            <b>Last Updated at  : </b> <%= new Date(employees.updatedAt).toUTCString() %>
            <!-- <b>User Id : </b> <%= employees._id %> -->
        </div>
    </div>
</div>


<form action="/edit/<%= employees._id %>?_method=PUT" method="POST">
    <div class="row form-group mb-4">

        <div class="col">
            <label for="fullName">Name</label>
            <input type="text" class="form-control" id="fullName" name="fullName" value="<%= employees.fullName %>" placeholder="Name"
                required>
        </div>
        <div class="col">
            <label for="role">Role</label>
            <input type="text" class="form-control" id="role" name="role" value="<%= employees.role %>" placeholder="Role" required>
        </div>
    </div>

    <div class="row form-group mb-4">

        <div class="col">
            <label for="phonenumber">Phone Number</label>
            <input type="text" class="form-control" id="phonenumber" name="phonenumber" value="<%= employees.phonenumber %>" placeholder="Phone Number" required>
        </div>

        <div class="col">
            <label for="email">Email</label>
            <input type="text" class="form-control" id="email" name="email" value="<%= employees.email %>" placeholder="Email" required>
        </div>
    </div>

    <div class="row form-group mb-4">

        <div class="col">
            <label for="password">Password</label>
            <input type="text" class="form-control" id="password" name="password" value=" <%= employees.password%> " placeholder="Password" required>
        </div>

        <div class="col">
            <label for="netsalary">Net Salary</label>
            <input type="text" class="form-control" id="netsalary" name="netsalary" value="<%= employees.netsalary %>" placeholder="Net Salary" required>
        </div>
    </div>
    <div class="row form-group mb-4">

        <div class="col">
            <label for="presentdays">Present Days</label>
            <input type="text" class="form-control" id="presentdays" name="presentdays" value="<%= monthDetails.presentdays %>" placeholder="Present Days" required>
        </div>

        <div class="col">
            <label for="paidleaves">Paid Leaves</label>
            <input type="text" class="form-control" id="paidleaves" name="paidleaves" value="<%= monthDetails.paidleaves %>" placeholder="Paid Leaves" required>
        </div>
    </div>
    <div class="row form-group mb-2">

        <div class="col">
            <label for="address">Address</label>
            <input type="text" class="form-control" id="address" name="address" value="<%= employees.address %>" placeholder="Address" required>
        </div>
    </div>

    <div class="form-group mb-4">
        <button type="submit" class="btn btn-primary">Update Customer</button>
        <button type="button" class="btn btn-danger" data-bs-toggle="modal" id="deleteButton" data-bs-target="#deleteModal">Delete Customer</button>
    </div>
</form>

<div class="modal fade" tabindex="-1" role="dialog" id="deleteModal">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">You are about to delete a Customer record.</div>
                <button type="button" class="btn-close" data-bs-dismiss="modal" arial-label="Close"></button>
            </div>

            <div class="modal-body">
                <p>
                  This will remove the employees record of <b class="fw-bold"><%= employees.fullName %></b><br/>
                  Are you sure?
                </p>
              </div>

              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                
                <form action="/edit/<%= employees._id %>?_method=DELETE" method="POST" class="position-relative">
                    <button type="submit" class="btn btn-primary">Yes, Remove Customer </button>
                </form>

              </div>
        </div>
    </div>
</div>


</main>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
    integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
    integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
    crossorigin="anonymous"></script>
</body>

</html>